# триангуляции

Триангуляция — это граф, в укладке которого каждая грань ограничена треугольником.

Если в планарном графе минимальная длина циклов равна $t$, то
$$\text{\# ребер }\le \frac{t}{t-2}\cdot(\text{ \# вершин }-2)$$
## утверждение

В любом планарном графе на $n$ $(n\ge 3)$ вершинах число ребер не превосходит $(3n-6)$.

## утверждение

Если в планарном графе на $n$ вершинах менее $(3n-6)$ ребер, то в граф можно добавить ребро, так, чтобы он остался планарным.

## утверждение

В любой триангуляции на $n$ вершинах ровно $(3n-6)$ ребер.

## утверждение

Любой планарный граф является подграфом некоторой триангуляции.


## сумма периметров всех граней триангуляции

Каждая грань ограничена треугольником, каждое ребро графа отделяет две грани и для того, чтобы его не считать два раза, поэтому
$$2 \cdot \text{\# ребер} \le \sum P=3\cdot \text{ \# граней}$$

## трехсвязность триангуляций

Любая триангуляция (на более, чем трех вершинах) трехсвязна

### доказательство

Пусть $G$ — триангуляция.

Предположим, что граф $G$ не трехсвязен, и придем к противоречию.

Если граф вообще не связен, то он распадается на компоненты связности, которые можно уложить на плоскости, каждую в отдельности. Затем можно провести ребро из одной компоненты связности в другую, соединив вершины, лежащие на внешних гранях компонент. Это ребро, которого не было в исходном графе, но проведя ребро, планарность не была нарушена. Это противоречит максимальности исходного графа. 

Значит, во всяком случае, имеется связность.

Усиливаем утверждение. Докажем двусвязность. Допустим, что граф не двусвязен. Это значит, что в графе есть точка сочленения. То есть, он состоит из двух частей, которые имеют лишь одну общую вершину. Тогда рассмотрим эти две части по отдельности. Рассмотрим укладку одной из частей на плоскости таким образом, чтобы вершина-точка сочленения была на внешней грани. Затем вторую часть укладываем на плоскости точно таким же образом. Затем совмещаем два изображения и получаем укладку 

![[Pasted image 20230611110837.png]]

Обе части содержат что-то еще, помимо точки сочленения. Есть какая-то вершина в каждой части, лежащая на внешней грани. Эти две вершины можно соединить ребром так, что оно будет проведено целиком во внешней грани так, чтобы оно ни с кем не пересеклось.

![[Pasted image 20230611111332.png]]
Этого ребра не было изначально, оно было проведено без нарушения планарности. Значит получено противоречие с максимальностью ребер в исходном графе. 
 
Значит точки сочленения быть не может. То есть граф, по крайней мере, двусвязный.

Тогда быть может граф двусвязный, но не трехсвязный. Это значит, что граф состоит из двух частей $G'$ и $G''$, которые друг с другом связаны по двум вершинам $u$ и $v$.
![[Pasted image 20230611111453.png|w75]]
Удаление этих двух вершин нарушает связность графа. Между вершинами $u$ и $v$ может быть ребро, а может такого ребра не быть. Допустим, что такое ребро в любом случае есть. Весь граф целиком планарный. Каждая компонента $G'$ и $G''$ являются двусвязными и в них между вершинами $u$ и $v$ есть путь, целиком лежащий внутри компоненты.
![[Pasted image 20230611111750.png|w75]]
Для того, чтобы этот путь построить, нужно взять произвольную вершину $w$ и воспользоваться свойством двусвязного графа: для любых трех вершин $u$, $w$ и $v$ существует путь из $u$ в $v$, проходящий через вершину $w$. Этот путь будет лежать полностью в этой компоненте связности. Если граф планарный, то и любой минор этого графа тоже планарный.

Возьмем подграф, состоящий из $G''$ и целиком пути $u-w-v$ и стянем все ребра на этом пути. Получится подграф состоящий из $G''$ и ребра $u-v$, потому что это ребро получается из исходного пути за счет стягивания. То есть этот граф является минором исходного графа $G$. Теперь можно уложить этот граф на плоскости, вывернув укладку так, чтобы ребро между $u$ и $v$ оказалось во внешней грани. 

Аналогично можно заметить, что граф $G'$, к которому добавлено ребро $u-v$ тоже является минором исходного графа $G$. Теперь можно уложить этот граф на плоскости, вывернув укладку так, чтобы ребро между $u$ и $v$ оказалось во внешней грани. 

Соединив по этому ребру $G'$ и $G''$ получится целиком граф $G$.

В $G'$ и $G''$ есть какие-то вершины помимо $u$ и $v$, например это вершины $x$ и $y$, лежащие на внешних гранях.
![[Pasted image 20230611112951.png|w75]]
Эти вершины не соединены ребром и это ребро можно провести целиком во внешней грани. Его исходно не было и получается противоречие с исходной максимальностью графа. Это противоречит тому, что $G$ — триангуляция.

# границы граней двусвязных графов

## утверждение

В любой укладке двусвязного графа граница каждой грани является простым циклом.

Граница грани не может содержать $\theta$-подграфа:
![[Pasted image 20230611114838.png|w50]]

Двусвязный граф может быть получен из цикла путем добавления ребер.

На границе грани двусвязного графа может образоваться либо простой цикл, либо θ-подграф, но он уже исключен. Значит границей грани может быть только простой цикл.

# границы граней трёхсвязных графов

## теорема Tutte 1963

В укладке трехсвязного планарного графа $G$ подграф $B$ образует границу грани тогда и только тогда, когда выполнены два условия:
- $B$ является порожденным простым циклом в $G$ (то есть у $B$ нет "хорд" в $G$)
- граф $(G-B)$ связен (то есть, удаление подграфа $B$ целиком не нарушает связности $G$)

### доказательство

Допустим $B$ не оказался границей грани. 

Может случиться так, что внутри графа $B$ есть ребра, которые не позволяют создать одну грань. Они разрезают внутренность подграфа $B$ на части. Это означает, что $B$ не является порожденным простым циклом.

Может быть, что внутри $B$ есть какая-то вершина $u$, а вне его — вершина $v$. Любой путь между ними пересекается с $B$. Поскольку пересечений ребер нет, то это означает, что у пути и подграфа $B$ есть общая вершина. Это значит, что если убрать все ребра и вершины графа $B$ из графа $G$, все пути между $u$ и $v$ окажутся разрушены. Получается, что условие связности нарушено.

Можно вывернуть укладку так, что $B$ будет границей внешней грани. 
Если у $B$ есть хорда $xy$ , то удаление этих двух вершин вместе с ребром, разрезает картинку на две части.
![[Pasted image 20230611130055.png|w75]]
Это противоречит трехсвязности графа $G$.

Допустим, граф $B$ был удален и связность нарушилась
![[Pasted image 20230611130342.png|w75]]
Допустим, нашлись две вершины $u$ и $v$ такие, что после удаления $B$ из $G$ между этими вершинами не остается никаких путей. Это значит, что в исходном графе $G$ любой путь между $u$ и $v$ имел общую вершину с подграфом $B$. В трехсвязном графе между любой парой вершин есть по крайней мере три не пересекающиеся по внутренностям пути. По предположению эти пути как-то касаются графа $B$. Каждый из путей касается $B$ в вершинах $x_1, x_2, x_3$ соответственно. Возьмем во внешней части укладки новую точку, которой в исходной картинке не было. Можно соединить эту новую точку кривыми с вершинами $x_1, x_2, x_3$ так, чтобы эти кривые не пересеклись.

Тогда получится, что новая вершина, $u, v, x_1, x_2, x_3$ вместе образуют граф $K_{3,3}$. А это противоречие.

### следствия теоремы Tutte

Две укладки одного графа называются эквивалентными, если в них наборы ребер, ограничивающих грани, совпадают
![[Pasted image 20230611131751.png]]

#### теорема Whitney 1933

Укладка любого трехсвязного планарного графа единственна с точностью до эквивалентности.

##### следствие из теоремы Whitney

Во всех укладках одной и той же триангуляции тройки ребер, ограничивающих грани, совпадают.

# теорема Вагнера-Фари

Укладка графа называется **прямолинейной**, если каждое ребро графа в этой укладке изображено отрезком прямой.

## лемма о четырех вершинах степени  ≤ 5

В любой триангуляции (в которой не меньше четырех вершин) найдутся четыре вершины, степень каждой из которых не превосходит 5.

### доказательство леммы

Пусть в графе $n$ вершин
$$\sum_{v\in V}\big(6-d(v)\big)=6n-2|E|=6n-2(3n-6)=12$$
так как в триангуляции не может быть степени вершин $< 3$, то в этой сумме по крайней мере четыре слагаемых
$$\big(6-d(v)\big)\le3$$

## лемма о триангулировании многоугольника

Любой многоугольник можно разбить диагоналями на треугольники.

### доказательство леммы

Если взять многоугольник и провести хотя бы одну диагональ, если ее изначально не было.

Рассмотрим произвольную тройку $A,B,C$ последовательных вершин многоугольника.
Если можно провести диагональ, то это и сделаем, если нельзя, то поступим следующим образом.
![[Pasted image 20230611135100.png|w70]]
Возьмем луч $BA$ и будем его двигать в направлении вершины $C$. Рано или поздно этот луч столкнется с какой-то вершиной, это будет новой диагональю. Если на луче оказывается несколько вершин, то берем ближайшую вершину к $B$

## лемма об обзоре пятиугольника

Внутри любого пятиугольника найдется точка, такая, что отрезки, соединяющие ее с вершинами пятиугольника, полностью лежат внутри него.
![[Pasted image 20230611135525.png|w50]]
### доказательство леммы

Пятиугольник по предыдущей лемме можно разбить на треугольники.

По принципу Дирехле, найдется вершина пятиугольника, принадлежащая всем трем треугольникам.

Рядом с этой вершиной можно взять искомую точку.

![[Pasted image 20230611135733.png|w50]]

## теорема Wagner 1936, Fáry 1948

У любого планарного графа существует прямолинейная укладка на плоскости.

### доказательство

Пусть $a,b,c$ — вершины какой-то одной грани в укладке триангуляции. Тогда можно найти прямолинейную укладку той же триангуляции так, что вершины $a,b,c$ лежат на границе внешней грани. 

База $n=3$ очевидна. 

Пусть $n\ge 4$ и $G$ — триангуляция, $|G|=n$. Пусть $a,b,c$ — вершины какой-то одной грани в укладке триангуляции. В триангуляции есть по крайней мере четыре вершины степени не выше 5, а вершин $a,b,c$ — три. Значит существует вершина точно отличная от них, степень у которой не выше 5. Пусть это будет вершина $v$.
![[Pasted image 20230611140347.png|w75]]
Пусть $G'$ — триангуляция, полученная удалением $v$ и добавлением ребер между бывшими соседями $v$. У вершины $v$ степень была не выше 5, в образовавшемся пятиугольнике соединяем вершины так, чтобы снова получилась триангуляция.
![[Pasted image 20230611140614.png|w75]]
В этой триангуляции количество вершин на единицу меньше, чем количество вершин в исходном графе и к ней мы применим предположение индукции. Можно нарисовать триангуляцию так, чтобы вершины $a,b,c$ оказались на внешней грани и все ребра были изображены отрезками прямой
![[Pasted image 20230611143529.png|w50]]
Это пятиугольник лег в картинке и теперь нужно восстановить вершину $v$. Теперь можно применить лемму об обзоре пятиугольника.
![[Pasted image 20230611143718.png|w50]]
Ставим вершину $v$ и соединяем ее прямыми отрезками с вершинами пятиугольника.

# теоремы о представлениях планарных графов

## теорема Tutte 1963

У любого трехсвязного планарного графа существует такая прямолинейная укладка на плоскости, в которой каждая грань ограничена выпуклым многоугольником.

### доказательство

Пусть $\Gamma$ — множество вершин трехсвязного графа, составляющих границу одной из граней в какой-нибудь укладке.

Тогда укладку Татта можно получить, если закрепить вершины множества $\Gamma$ в вершинах произвольного выпуклого многоугольника, и представить, что ребра графа стремятся стянуться, как резинки. Полученная при стабилизации такой физической системы картинка и будет искомой укладкой.

## теорема Chalopin, Gonçalves 2009

Любой планарный граф может быть представлен следующим образом: вершинам графа соответствуют отрезки на плоскости, ребрам — пары пересекающихся отрезков
![[Pasted image 20230611150135.png|w60]]
## теорема Koebe 1936

Любой планарный граф может быть представлен следующим образом: вершинам графа соответствуют круги на плоскости, ребрам — пары касающихся кругов
![[Pasted image 20230611150514.png|w70]]
# минорно-замкнутые классы графов

Класс графов минорно-замкнутый или минорно-наследственный, если вместе с каждым графом содержит все его миноры.

Примеры:
- класс графов, укладываемых на заданной поверхности
- класс графов, не содержащих простые циклы, длина которых больше заданной

Класс планарных графов, благодаря теореме Вагнера, может быть описан в терминах запрещенных миноров: граф планарен тогда и только тогда, когда среди его миноров нет $K_5$ и $K_{3,3,}$.

Класс графов, не содержащих простые циклы длины более $l$, описывается еще проще: граф принадлежит классу тогда и только тогда, когда цикл на $(l+1)$ вершинах не является минором графа.

## теорема Seymour, Robertson 2004

Любой минорно-замкнутый класс графов может быть описан конечным множеством запрещенных миноров.

## теорема о проверке минора

Для любого фиксированного графа $H$ существует алгоритм, который по входному графу $G$ за время $O(|G|^3)$ проверяет, является ли $H$ его минором.

### следствие из теоремы

Для любого минорно-замкнутого класса графов задача распознавания принадлежности этому классу является полиномиально разрешимой.